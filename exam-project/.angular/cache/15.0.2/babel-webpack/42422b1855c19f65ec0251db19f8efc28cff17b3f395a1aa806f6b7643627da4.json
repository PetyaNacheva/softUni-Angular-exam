{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { MessageType } from 'src/app/core/message-bus.service';\nimport { actorsValidator, urlValidator } from '../utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/core/movie.service\";\nimport * as i4 from \"src/app/core/message-bus.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nfunction MoviesNewPageComponent_mat_error_8_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_8_strong_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" must be at least 3 characters! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Movie Name \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_8_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵtemplate(3, MoviesNewPageComponent_mat_error_8_strong_3_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.movieFormGroup.controls[\"title\"].hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.movieFormGroup.controls[\"title\"].hasError(\"required\") && ctx_r0.movieFormGroup.controls[\"title\"].hasError(\"minlength\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_13_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Movie Director \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_13_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.movieFormGroup.controls[\"director\"].hasError(\"required\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_18_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_18_strong_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" must be a valid address! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Image Link \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_18_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵtemplate(3, MoviesNewPageComponent_mat_error_18_strong_3_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.movieFormGroup.controls[\"poster\"].hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r2.movieFormGroup.controls[\"poster\"].hasError(\"required\") && ctx_r2.movieFormGroup.controls[\"poster\"].hasError(\"urlV\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_23_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Movie Genre \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_23_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.movieFormGroup.controls[\"genre\"].hasError(\"required\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_28_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Movie Release Date \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_28_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.movieFormGroup.controls[\"releaseDate\"].hasError(\"required\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_34_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_34_strong_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" must be at least 10 characters! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Description \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_34_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵtemplate(3, MoviesNewPageComponent_mat_error_34_strong_3_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.movieFormGroup.controls[\"shortStory\"].hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.movieFormGroup.controls[\"shortStory\"].hasError(\"required\") && ctx_r5.movieFormGroup.controls[\"shortStory\"].hasError(\"minlength\"));\n  }\n}\nfunction MoviesNewPageComponent_mat_error_40_strong_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_40_strong_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" must be valid! Write actors separated with comma and new line! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_40_strong_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"strong\", 12);\n    i0.ɵɵtext(1, \" must be at least two! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MoviesNewPageComponent_mat_error_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 12);\n    i0.ɵɵtext(1, \" Actors \");\n    i0.ɵɵtemplate(2, MoviesNewPageComponent_mat_error_40_strong_2_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵtemplate(3, MoviesNewPageComponent_mat_error_40_strong_3_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵtemplate(4, MoviesNewPageComponent_mat_error_40_strong_4_Template, 2, 0, \"strong\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.movieFormGroup.controls[\"actors\"].hasError(\"required\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.movieFormGroup.controls[\"actors\"].hasError(\"required\") && ctx_r6.movieFormGroup.controls[\"actors\"].hasError(\"actors\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.movieFormGroup.controls[\"actors\"].hasError(\"required\") && ctx_r6.movieFormGroup.controls[\"actors\"].hasError(\"actorsLength\"));\n  }\n}\nexport class MoviesNewPageComponent {\n  constructor(formBuilder, router, movieService, messageBus) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.movieService = movieService;\n    this.messageBus = messageBus;\n    this.movieFormGroup = this.formBuilder.group({\n      'title': new FormControl('', [Validators.required, Validators.minLength(3)]),\n      'director': new FormControl('', [Validators.required]),\n      'genre': new FormControl('', [Validators.required]),\n      'releaseDate': new FormControl('', [Validators.required]),\n      'poster': new FormControl('', [Validators.required, urlValidator]),\n      'shortStory': new FormControl('', [Validators.required, Validators.minLength(10)]),\n      'actors': new FormControl('', [Validators.required, actorsValidator])\n    });\n  }\n  ngOnInit() {\n    // console.log(this.makeUpdate)\n    // console.log(this.recipeToUpdate)\n    if (this.makeUpdate) {\n      this.formName = 'Edit Movie';\n      this.formBtnName = 'Save';\n      this.movieFormGroup.controls['title'].setValue(this.movieToUpdate.title);\n      this.movieFormGroup.controls['director'].setValue(this.movieToUpdate.director);\n      this.movieFormGroup.controls['genre'].setValue(this.movieToUpdate.genre);\n      this.movieFormGroup.controls['releaseDate'].setValue(this.movieToUpdate.releaseDate);\n      this.movieFormGroup.controls['poster'].setValue(this.movieToUpdate.poster);\n      this.movieFormGroup.controls['shortStory'].setValue(this.movieToUpdate.shortStory);\n      this.movieFormGroup.controls['actors'].setValue(this.movieToUpdate.actors.join(',\\n'));\n    } else {\n      this.formName = 'Add New Movie';\n      this.formBtnName = 'Add Movie';\n    }\n  }\n  handleCreateMovie() {\n    // Transform ingridients to array\n    if (this.movieFormGroup.value.actors.includes(',\\n')) {\n      this.movieFormGroup.value.actors = this.movieFormGroup.value.actors.split(',\\n');\n    }\n    this.movieFormGroup.value.title = this.movieFormGroup.value.recipeName.trim();\n    this.movieFormGroup.value.director = this.movieFormGroup.value.description.trim();\n    this.movieFormGroup.value.genre = this.movieFormGroup.value.genre.trim();\n    this.movieFormGroup.value.releaseDate = this.movieFormGroup.value.releaseDate.trim();\n    this.movieFormGroup.value.poster = this.movieFormGroup.value.poster.trim();\n    this.movieFormGroup.value.shortStory = this.movieFormGroup.value.shortStory.trim();\n    // Editing mode\n    if (this.makeUpdate) {\n      // console.log('update');\n      // console.log(this.recipeFormGroup.value);\n      this.movieService.updateMovie$(this.movieToUpdate._id, this.movieFormGroup.value).subscribe({\n        next: movie => {\n          // console.log(recipe._id);\n          this.router.navigateByUrl(`/RefreshComponent`, {\n            skipLocationChange: true\n          }).then(() => {\n            this.router.navigate(['/movies', movie._id]);\n          });\n          this.messageBus.notifyForMessage({\n            text: 'User successfully updated movie!',\n            type: MessageType.Success\n          });\n        },\n        error: err => {\n          console.log('Error is ', err.error.message);\n          // this.errorMessage = err.error.message;\n          this.messageBus.notifyForMessage({\n            text: err.error.message,\n            type: MessageType.Error\n          });\n        }\n      });\n      // Creating mode\n    } else {\n      // console.log('form: ', this.recipeFormGroup.value);\n      this.movieService.addMovie$(this.movieFormGroup.value).subscribe({\n        next: movie => {\n          // console.log(recipe);\n          this.router.navigate(['/movies', movie._id]);\n          this.messageBus.notifyForMessage({\n            text: 'User successfully create new movie!',\n            type: MessageType.Success\n          });\n        },\n        error: error => {\n          console.error(error);\n        }\n      });\n    }\n  }\n}\nMoviesNewPageComponent.ɵfac = function MoviesNewPageComponent_Factory(t) {\n  return new (t || MoviesNewPageComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MovieService), i0.ɵɵdirectiveInject(i4.MessageBusService));\n};\nMoviesNewPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MoviesNewPageComponent,\n  selectors: [[\"app-movies-new-page\"]],\n  inputs: {\n    makeUpdate: \"makeUpdate\",\n    movieToUpdate: \"movieToUpdate\"\n  },\n  decls: 43,\n  vars: 11,\n  consts: [[1, \"addnew\", 3, \"formGroup\", \"ngSubmit\"], [1, \"parent\"], [\"appearance\", \"outline\"], [\"formControlName\", \"title\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"title\", \"id\", \"title\", \"placeholder\", \"Final Destination\"], [\"class\", \"error\", 4, \"ngIf\"], [\"formControlName\", \"director\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"director\", \"id\", \"director\", \"placeholder\", \"...\"], [\"formControlName\", \"poster\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"poster\", \"id\", \"poster\", \"placeholder\", \"https://...\"], [\"formControlName\", \"genre\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"genre\", \"id\", \"genre\", \"placeholder\", \"Action\"], [\"formControlName\", \"releaseDate\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"releaseDate\", \"id\", \"releaseDate\", \"placeholder\", \"02 February 2002\"], [\"formControlName\", \"shortStory\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"shortStory\", \"id\", \"shortStory\", \"placeholder\", \"Short Story\"], [\"formControlName\", \"actors\", \"type\", \"text\", \"matInput\", \"\", \"name\", \"actors\", \"id\", \"actors\", \"placeholder\", \"John Doe, ...\"], [1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"error\"]],\n  template: function MoviesNewPageComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function MoviesNewPageComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.handleCreateMovie();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"h2\");\n      i0.ɵɵtext(3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"mat-form-field\", 2)(5, \"mat-label\");\n      i0.ɵɵtext(6, \"Movie Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 3);\n      i0.ɵɵtemplate(8, MoviesNewPageComponent_mat_error_8_Template, 4, 2, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"mat-form-field\", 2)(10, \"mat-label\");\n      i0.ɵɵtext(11, \"Movie Director\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 5);\n      i0.ɵɵtemplate(13, MoviesNewPageComponent_mat_error_13_Template, 3, 1, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"mat-form-field\", 2)(15, \"mat-label\");\n      i0.ɵɵtext(16, \"Image Link\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 6);\n      i0.ɵɵtemplate(18, MoviesNewPageComponent_mat_error_18_Template, 4, 2, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"mat-form-field\", 2)(20, \"mat-label\");\n      i0.ɵɵtext(21, \"Movie Genre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 7);\n      i0.ɵɵtemplate(23, MoviesNewPageComponent_mat_error_23_Template, 3, 1, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"mat-form-field\", 2)(25, \"mat-label\");\n      i0.ɵɵtext(26, \"Movie Release Date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(27, \"input\", 8);\n      i0.ɵɵtemplate(28, MoviesNewPageComponent_mat_error_28_Template, 3, 1, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"mat-form-field\", 2)(30, \"mat-label\");\n      i0.ɵɵtext(31, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"textarea\", 9);\n      i0.ɵɵtext(33, \"            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(34, MoviesNewPageComponent_mat_error_34_Template, 4, 2, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"mat-form-field\", 2)(36, \"mat-label\");\n      i0.ɵɵtext(37, \"Actors\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"textarea\", 10);\n      i0.ɵɵtext(39, \"            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, MoviesNewPageComponent_mat_error_40_Template, 5, 3, \"mat-error\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"button\", 11);\n      i0.ɵɵtext(42);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.movieFormGroup);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.formName);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"title\"].touched && ctx.movieFormGroup.controls[\"title\"].invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"director\"].touched && ctx.movieFormGroup.controls[\"director\"].invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"poster\"].touched && ctx.movieFormGroup.controls[\"poster\"].invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"genre\"].touched && ctx.movieFormGroup.controls[\"genre\"].invalid);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"releaseDate\"].touched && ctx.movieFormGroup.controls[\"releaseDate\"].invalid);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"shortStory\"].touched && ctx.movieFormGroup.controls[\"shortStory\"].invalid);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieFormGroup.controls[\"actors\"].touched && ctx.movieFormGroup.controls[\"actors\"].invalid);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.movieFormGroup.invalid || ctx.movieFormGroup.untouched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate(ctx.formBtnName);\n    }\n  },\n  dependencies: [i5.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i6.MatFormField, i6.MatLabel, i6.MatError, i7.MatInput],\n  styles: [\".parent[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    flex-direction: column;\\r\\n    background-color: #ebf5fe;\\r\\n    padding-top: 20px;\\r\\n    border-radius: 35px 150px;\\r\\n    padding-bottom: 20px;\\r\\n    width: 700px;\\r\\n  }\\r\\n  \\r\\n  .addnew[_ngcontent-%COMP%]{\\r\\n    margin-top: 60px;\\r\\n    padding-bottom: 100px;\\r\\n  }\\r\\n  \\r\\n  h2[_ngcontent-%COMP%]{\\r\\n    padding-bottom: 35px;\\r\\n    color:  rgb(47, 102, 99); ;\\r\\n  }\\r\\n  \\r\\n  mat-form-field[_ngcontent-%COMP%]{\\r\\n    width: 60%;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%]{\\r\\n    width: 150px;\\r\\n  }\\r\\n  .error[_ngcontent-%COMP%] {\\r\\n    text-align: left;\\r\\n    border-radius: 0.3em;\\r\\n    color: red;\\r\\n    padding-top: 0;\\r\\n}\\n/*# sourceURL=webpack://./src/app/feature/movies/movies-new-page/movies-new-page.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZS9tb3ZpZXMvbW92aWVzLW5ldy1wYWdlL21vdmllcy1uZXctcGFnZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsc0JBQXNCO0lBQ3RCLHlCQUF5QjtJQUN6QixpQkFBaUI7SUFDakIseUJBQXlCO0lBQ3pCLG9CQUFvQjtJQUNwQixZQUFZO0VBQ2Q7O0VBRUE7SUFDRSxnQkFBZ0I7SUFDaEIscUJBQXFCO0VBQ3ZCOztFQUVBO0lBQ0Usb0JBQW9CO0lBQ3BCLHdCQUF3QjtFQUMxQjs7RUFFQTtJQUNFLFVBQVU7RUFDWjs7RUFFQTtJQUNFLFlBQVk7RUFDZDtFQUNBO0lBQ0UsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixVQUFVO0lBQ1YsY0FBYztBQUNsQiIsInNvdXJjZXNDb250ZW50IjpbIi5wYXJlbnR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNlYmY1ZmU7XHJcbiAgICBwYWRkaW5nLXRvcDogMjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDM1cHggMTUwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMjBweDtcclxuICAgIHdpZHRoOiA3MDBweDtcclxuICB9XHJcbiAgXHJcbiAgLmFkZG5ld3tcclxuICAgIG1hcmdpbi10b3A6IDYwcHg7XHJcbiAgICBwYWRkaW5nLWJvdHRvbTogMTAwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIGgye1xyXG4gICAgcGFkZGluZy1ib3R0b206IDM1cHg7XHJcbiAgICBjb2xvcjogIHJnYig0NywgMTAyLCA5OSk7IDtcclxuICB9XHJcbiAgXHJcbiAgbWF0LWZvcm0tZmllbGR7XHJcbiAgICB3aWR0aDogNjAlO1xyXG4gIH1cclxuICBcclxuICBidXR0b257XHJcbiAgICB3aWR0aDogMTUwcHg7XHJcbiAgfVxyXG4gIC5lcnJvciB7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC4zZW07XHJcbiAgICBjb2xvcjogcmVkO1xyXG4gICAgcGFkZGluZy10b3A6IDA7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","Validators","MessageType","actorsValidator","urlValidator","i0","MoviesNewPageComponent","constructor","formBuilder","router","movieService","messageBus","group","required","minLength","ngOnInit","makeUpdate","formName","formBtnName","movieFormGroup","controls","setValue","movieToUpdate","title","director","genre","releaseDate","poster","shortStory","actors","join","handleCreateMovie","value","includes","split","recipeName","trim","description","updateMovie$","_id","subscribe","next","movie","navigateByUrl","skipLocationChange","then","navigate","notifyForMessage","text","type","Success","error","err","console","log","message","Error","addMovie$","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\Softuni\\softUni-Angular\\exam-project\\src\\app\\feature\\movies\\movies-new-page\\movies-new-page.component.ts","D:\\Softuni\\softUni-Angular\\exam-project\\src\\app\\feature\\movies\\movies-new-page\\movies-new-page.component.html"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { IMovie } from 'src/app/core/interfaces';\r\nimport { MessageBusService, MessageType } from 'src/app/core/message-bus.service';\r\nimport { MovieService } from 'src/app/core/movie.service';\r\nimport { actorsValidator, urlValidator } from '../utils';\r\n\r\n@Component({\r\n  selector: 'app-movies-new-page',\r\n  templateUrl: './movies-new-page.component.html',\r\n  styleUrls: ['./movies-new-page.component.css']\r\n})\r\nexport class MoviesNewPageComponent implements OnInit {\r\n\r\n  @Input() makeUpdate: boolean;\r\n  @Input() movieToUpdate: IMovie;\r\n\r\n  formName: string;\r\n  formBtnName: string;\r\n\r\n  movieFormGroup: FormGroup = this.formBuilder.group({\r\n    'title': new FormControl('', [Validators.required, Validators.minLength(3)]),\r\n    'director': new FormControl('', [Validators.required]),\r\n    'genre':new FormControl('', [Validators.required]),\r\n    'releaseDate':new FormControl('', [Validators.required]),\r\n    'poster': new FormControl('', [Validators.required, urlValidator]),\r\n    'shortStory': new FormControl('', [Validators.required, Validators.minLength(10)]),\r\n    'actors': new FormControl('', [Validators.required, actorsValidator])\r\n  })\r\n\r\n  constructor(private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private movieService: MovieService,\r\n    private messageBus: MessageBusService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    // console.log(this.makeUpdate)\r\n    // console.log(this.recipeToUpdate)\r\n\r\n    if (this.makeUpdate) {\r\n      this.formName = 'Edit Movie';\r\n      this.formBtnName = 'Save';\r\n      this.movieFormGroup.controls['title'].setValue(this.movieToUpdate.title);\r\n      this.movieFormGroup.controls['director'].setValue(this.movieToUpdate.director);\r\n      this.movieFormGroup.controls['genre'].setValue(this.movieToUpdate.genre);\r\n      this.movieFormGroup.controls['releaseDate'].setValue(this.movieToUpdate.releaseDate);\r\n      this.movieFormGroup.controls['poster'].setValue(this.movieToUpdate.poster);\r\n      this.movieFormGroup.controls['shortStory'].setValue(this.movieToUpdate.shortStory);\r\n      this.movieFormGroup.controls['actors'].setValue(this.movieToUpdate.actors.join(',\\n'));\r\n    } else {\r\n      this.formName = 'Add New Movie';\r\n      this.formBtnName = 'Add Movie';\r\n    }\r\n  }\r\n\r\n\r\n  handleCreateMovie() {\r\n\r\n    // Transform ingridients to array\r\n    if (this.movieFormGroup.value.actors.includes(',\\n')) {\r\n      this.movieFormGroup.value.actors = this.movieFormGroup.value.actors.split(',\\n');\r\n    }\r\n    this.movieFormGroup.value.title = this.movieFormGroup.value.recipeName.trim();\r\n    this.movieFormGroup.value.director = this.movieFormGroup.value.description.trim();\r\n    this.movieFormGroup.value.genre=this.movieFormGroup.value.genre.trim();\r\n    this.movieFormGroup.value.releaseDate=this.movieFormGroup.value.releaseDate.trim();\r\n    this.movieFormGroup.value.poster = this.movieFormGroup.value.poster.trim();\r\n    this.movieFormGroup.value.shortStory=this.movieFormGroup.value.shortStory.trim();\r\n\r\n    // Editing mode\r\n    if (this.makeUpdate) {\r\n      // console.log('update');\r\n      // console.log(this.recipeFormGroup.value);\r\n\r\n      this.movieService.updateMovie$(this.movieToUpdate._id, this.movieFormGroup.value).subscribe({\r\n        next: movie => {\r\n          // console.log(recipe._id);\r\n          this.router.navigateByUrl(`/RefreshComponent`, { skipLocationChange: true }).then(() => {\r\n            this.router.navigate(['/movies', movie._id]);\r\n          });\r\n\r\n          this.messageBus.notifyForMessage({\r\n            text: 'User successfully updated movie!',\r\n            type: MessageType.Success\r\n          })\r\n        },\r\n        error: (err) => {\r\n          console.log('Error is ', err.error.message)\r\n          // this.errorMessage = err.error.message;\r\n          this.messageBus.notifyForMessage({\r\n            text: err.error.message,\r\n            type: MessageType.Error\r\n          })\r\n        }\r\n      })\r\n\r\n      // Creating mode\r\n    } else {\r\n      // console.log('form: ', this.recipeFormGroup.value);\r\n\r\n      this.movieService.addMovie$(this.movieFormGroup.value).subscribe({\r\n        next: (movie) => {\r\n          // console.log(recipe);\r\n          this.router.navigate(['/movies', movie._id])\r\n\r\n          this.messageBus.notifyForMessage({\r\n            text: 'User successfully create new movie!',\r\n            type: MessageType.Success\r\n          })\r\n        },\r\n        error: (error) => {\r\n          console.error(error);\r\n        }\r\n      })\r\n    }\r\n  }\r\n}","<form class=\"addnew\" [formGroup]=\"movieFormGroup\" (ngSubmit)=\"handleCreateMovie()\">\r\n    <div class=\"parent\">\r\n        <h2>{{formName}}</h2>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Movie Name</mat-label>\r\n            <input formControlName=\"title\" type=\"text\" matInput name=\"title\" id=\"title\"\r\n                placeholder=\"Final Destination\" >\r\n\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['title'].touched && movieFormGroup.controls['title'].invalid\" class=\"error\">\r\n                Movie Name\r\n                <strong *ngIf=\"movieFormGroup.controls['title'].hasError('required')\" class=\"error\">\r\n                    is required!\r\n                </strong>\r\n                <strong\r\n                    *ngIf=\"!movieFormGroup.controls['title'].hasError('required') && movieFormGroup.controls['title'].hasError('minlength')\" class=\"error\">\r\n                    must be at least 3 characters!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Movie Director</mat-label>\r\n            <input formControlName=\"director\" type=\"text\" matInput name=\"director\" id=\"director\"\r\n                placeholder=\"...\" >\r\n\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['director'].touched && movieFormGroup.controls['director'].invalid\" class=\"error\">\r\n                Movie Director\r\n                <strong *ngIf=\"movieFormGroup.controls['director'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Image Link</mat-label>\r\n            <input formControlName=\"poster\" type=\"text\" matInput name=\"poster\" id=\"poster\" placeholder=\"https://...\">\r\n\r\n            <mat-error *ngIf=\"movieFormGroup.controls['poster'].touched && movieFormGroup.controls['poster'].invalid\"  class=\"error\">\r\n                Image Link\r\n                <strong *ngIf=\"movieFormGroup.controls['poster'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n                <strong\r\n                    *ngIf=\"!movieFormGroup.controls['poster'].hasError('required') && movieFormGroup.controls['poster'].hasError('urlV')\"  class=\"error\">\r\n                    must be a valid address!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Movie Genre</mat-label>\r\n            <input formControlName=\"genre\" type=\"text\" matInput name=\"genre\" id=\"genre\"\r\n                placeholder=\"Action\" >\r\n\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['genre'].touched && movieFormGroup.controls['genre'].invalid\"  class=\"error\">\r\n                Movie Genre\r\n                <strong *ngIf=\"movieFormGroup.controls['genre'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Movie Release Date</mat-label>\r\n            <input formControlName=\"releaseDate\" type=\"text\" matInput name=\"releaseDate\" id=\"releaseDate\"\r\n                placeholder=\"02 February 2002\" >\r\n\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['releaseDate'].touched && movieFormGroup.controls['releaseDate'].invalid\"  class=\"error\">\r\n                Movie Release Date\r\n                <strong *ngIf=\"movieFormGroup.controls['releaseDate'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Description</mat-label>\r\n            <textarea formControlName=\"shortStory\" type=\"text\" matInput name=\"shortStory\" id=\"shortStory\"\r\n                placeholder=\"Short Story\">\r\n            </textarea>\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['shortStory'].touched && movieFormGroup.controls['shortStory'].invalid\"  class=\"error\">\r\n                Description\r\n                <strong *ngIf=\"movieFormGroup.controls['shortStory'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n                <strong\r\n                    *ngIf=\"!movieFormGroup.controls['shortStory'].hasError('required') && movieFormGroup.controls['shortStory'].hasError('minlength')\"  class=\"error\">\r\n                    must be at least 10 characters!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Actors</mat-label>\r\n            <textarea formControlName=\"actors\" type=\"text\" matInput name=\"actors\" id=\"actors\"\r\n                placeholder=\"John Doe, ...\">\r\n            </textarea>\r\n            <mat-error\r\n                *ngIf=\"movieFormGroup.controls['actors'].touched && movieFormGroup.controls['actors'].invalid\"  class=\"error\">\r\n                Actors\r\n                <strong *ngIf=\"movieFormGroup.controls['actors'].hasError('required')\"  class=\"error\">\r\n                    is required!\r\n                </strong>\r\n                <strong\r\n                    *ngIf=\"!movieFormGroup.controls['actors'].hasError('required') && movieFormGroup.controls['actors'].hasError('actors')\"  class=\"error\">\r\n                    must be valid! Write actors separated with comma and new line!\r\n                </strong>\r\n                <strong\r\n                    *ngIf=\"!movieFormGroup.controls['actors'].hasError('required') && movieFormGroup.controls['actors'].hasError('actorsLength')\"  class=\"error\">\r\n                    must be at least two!\r\n                </strong>\r\n            </mat-error>\r\n        </mat-form-field>\r\n\r\n        <button [disabled]=\"movieFormGroup.invalid || movieFormGroup.untouched\" class=\"btn btn-primary\">{{formBtnName}}</button>\r\n\r\n    </div>\r\n</form>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}