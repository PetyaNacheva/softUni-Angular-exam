{"ast":null,"code":"import { FormControl } from '@angular/forms';\nimport { filter, startWith, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/core/movie.service\";\nfunction MoviesListComponent_div_8_app_recipes_list_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-recipes-list-item\", 10);\n  }\n  if (rf & 2) {\n    const recipe_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"recipe\", recipe_r4);\n  }\n}\nfunction MoviesListComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\");\n    i0.ɵɵtext(2, \"Latest Recipes:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵtemplate(4, MoviesListComponent_div_8_app_recipes_list_item_4_Template, 1, 1, \"app-recipes-list-item\", 9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.movieList);\n  }\n}\nfunction MoviesListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"h3\", 8);\n    i0.ɵɵtext(2, \"No Recipes Found!\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MoviesListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Loading\\u2026\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class MoviesListComponent {\n  constructor(movieService) {\n    this.movieService = movieService;\n    this.searchControl = new FormControl('', {\n      updateOn: 'blur'\n    });\n  }\n  ngOnInit() {\n    // search for word with at least 3 characters\n    this.searchControl.valueChanges.pipe(filter(searchTerm => searchTerm.length > 2), startWith(''),\n    // tap(searchTerm => console.log(searchTerm)),\n    switchMap(searchTerm => this.movieService.loadMovieList(searchTerm))\n    // switchMap => stop previous requests and takes the last\n    // mergeMap => return the result from the observable\n    ).subscribe(movieList => {\n      this.movieList = movieList;\n    });\n    // this.recipeService.loadRecipeList().subscribe(recipeList => {\n    //   // console.log(recipeList)\n    //   this.recipeList = recipeList;\n    // });\n  }\n}\n\nMoviesListComponent.ɵfac = function MoviesListComponent_Factory(t) {\n  return new (t || MoviesListComponent)(i0.ɵɵdirectiveInject(i1.MovieService));\n};\nMoviesListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MoviesListComponent,\n  selectors: [[\"app-movies-list\"]],\n  decls: 11,\n  vars: 4,\n  consts: [[1, \"form\"], [1, \"parent\"], [\"appearance\", \"outline\"], [\"type\", \"text\", \"matInput\", \"\", \"name\", \"recipeName\", \"id\", \"recipeName\", \"placeholder\", \"long island\", 3, \"formControl\"], [1, \"btn\", \"btn-primary\"], [\"id\", \"portfolio-content\", \"class\", \"center-text\", 4, \"ngIf\"], [4, \"ngIf\"], [\"id\", \"portfolio-content\", 1, \"center-text\"], [\"id\", \"page-1\", 1, \"portfolio-page\"], [3, \"recipe\", 4, \"ngFor\", \"ngForOf\"], [3, \"recipe\"]],\n  template: function MoviesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0)(1, \"div\", 1)(2, \"mat-form-field\", 2)(3, \"mat-label\");\n      i0.ɵɵtext(4, \"Search by recipe name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"input\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵtext(7, \"Search\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(8, MoviesListComponent_div_8_Template, 5, 1, \"div\", 5);\n      i0.ɵɵtemplate(9, MoviesListComponent_div_9_Template, 3, 0, \"div\", 5);\n      i0.ɵɵtemplate(10, MoviesListComponent_div_10_Template, 2, 0, \"div\", 6);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"formControl\", ctx.searchControl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieList && ctx.movieList.length !== 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieList && ctx.movieList.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.movieList);\n    }\n  },\n  styles: [\"h3[_ngcontent-%COMP%] {\\r\\n    color: #104C88;\\r\\n    font-weight: 600;\\r\\n    text-align: center;\\r\\n    background-color: #FFDDB3;\\r\\n    padding: 10px;\\r\\n    margin: 25px 105px;\\r\\n    border-radius: 20px 60px;\\r\\n    width: 100%;\\r\\n  }\\r\\n  \\r\\n  .parent[_ngcontent-%COMP%]{\\r\\n    display: flex;\\r\\n    \\r\\n    width: 100%;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    \\r\\n    background-color: #ebf5fe;\\r\\n    padding-top: 20px;\\r\\n    border-radius: 35px 150px;\\r\\n  }\\r\\n  \\r\\n  .form[_ngcontent-%COMP%]{\\r\\n    margin-top: 20px;\\r\\n    padding-bottom: 10px;\\r\\n  }\\r\\n  \\r\\n  mat-form-field[_ngcontent-%COMP%]{\\r\\n    width: 40%;\\r\\n    padding-right: 10px;\\r\\n  }\\r\\n  \\r\\n  button[_ngcontent-%COMP%] {\\r\\n    margin-bottom: 20px;\\r\\n    padding: 12px;\\r\\n  }\\n/*# sourceURL=webpack://./src/app/feature/movies/movies-list/movies-list.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZS9tb3ZpZXMvbW92aWVzLWxpc3QvbW92aWVzLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7SUFDZCxnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLHdCQUF3QjtJQUN4QixXQUFXO0VBQ2I7O0VBRUE7SUFDRSxhQUFhO0lBQ2IsMkJBQTJCO0lBQzNCLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLDRCQUE0QjtJQUM1Qix5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLGdCQUFnQjtJQUNoQixvQkFBb0I7RUFDdEI7O0VBRUE7SUFDRSxVQUFVO0lBQ1YsbUJBQW1CO0VBQ3JCOztFQUVBO0lBQ0UsbUJBQW1CO0lBQ25CLGFBQWE7RUFDZiIsInNvdXJjZXNDb250ZW50IjpbImgzIHtcclxuICAgIGNvbG9yOiAjMTA0Qzg4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNGRkREQjM7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luOiAyNXB4IDEwNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMjBweCA2MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG4gIFxyXG4gIC5wYXJlbnR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgLyogZGlzcGxheTogaW5saW5lLWJsb2NrOyAqL1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAvKiBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ViZjVmZTtcclxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMzVweCAxNTBweDtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm17XHJcbiAgICBtYXJnaW4tdG9wOiAyMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIG1hdC1mb3JtLWZpZWxke1xyXG4gICAgd2lkdGg6IDQwJTtcclxuICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XHJcbiAgfVxyXG4gIFxyXG4gIGJ1dHRvbiB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AACA,SAASA,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,MAAM,EAAEC,SAAS,EAAEC,SAAS,QAAQ,MAAM;;;;;ICa3CC,4CAAkG;;;;IAA1CA,kCAAiB;;;;;IAHjFA,8BAA4F;IACpFA,+BAAe;IAAAA,iBAAK;IACxBA,8BAAwC;IACpCA,8GAAkG;IACtGA,iBAAM;;;;IADwCA,eAAY;IAAZA,0CAAY;;;;;IAI9DA,8BAA4F;IACjDA,iCAAiB;IAAAA,iBAAK;;;;;IAGjEA,2BAAwB;IACpBA,gCACJ;IAAAA,iBAAM;;;ADdN,OAAM,MAAOC,mBAAmB;EAM9BC,YAAoBC,YAA0B;IAA1B,iBAAY,GAAZA,YAAY;IAFhC,kBAAa,GAAG,IAAIP,WAAW,CAAC,EAAE,EAAE;MAAEQ,QAAQ,EAAE;IAAM,CAAE,CAAC;EAEP;EAElDC,QAAQ;IACN;IACA,IAAI,CAACC,aAAa,CAACC,YAAY,CAACC,IAAI,CAClCX,MAAM,CAACY,UAAU,IAAIA,UAAU,CAACC,MAAM,GAAG,CAAC,CAAC,EAC3CZ,SAAS,CAAC,EAAE,CAAC;IACb;IACAC,SAAS,CAACU,UAAU,IAAI,IAAI,CAACN,YAAY,CAACQ,aAAa,CAACF,UAAU,CAAC;IACnE;IACA;IAAA,CACD,CACEG,SAAS,CAACC,SAAS,IAAG;MACrB,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC5B,CAAC,CAAC;IAGJ;IACA;IACA;IACA;EACF;;;;mBA3BWZ,mBAAmB;AAAA;;QAAnBA,mBAAmB;EAAAa;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCXhClB,+BAAmB;MAIIA,qCAAqB;MAAAA,iBAAY;MAC5CA,2BAC8B;MAClCA,iBAAiB;MACjBA,iCAAgC;MAAAA,sBAAM;MAAAA,iBAAS;MAIvDA,oEAKM;MAENA,oEAEM;MAENA,sEAEM;;;MApBaA,eAA6B;MAA7BA,+CAA6B;MAO1CA,eAAyC;MAAzCA,kEAAyC;MAOzCA,eAAyC;MAAzCA,kEAAyC;MAIzCA,eAAgB;MAAhBA,qCAAgB","names":["FormControl","filter","startWith","switchMap","i0","MoviesListComponent","constructor","movieService","updateOn","ngOnInit","searchControl","valueChanges","pipe","searchTerm","length","loadMovieList","subscribe","movieList","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["D:\\Softuni\\softUni-Angular\\exam-project\\src\\app\\feature\\movies\\movies-list\\movies-list.component.ts","D:\\Softuni\\softUni-Angular\\exam-project\\src\\app\\feature\\movies\\movies-list\\movies-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormControl } from '@angular/forms';\r\nimport { filter, startWith, switchMap } from 'rxjs';\r\nimport { IMovie } from 'src/app/core/interfaces';\r\nimport { MovieService } from 'src/app/core/movie.service';\r\n\r\n@Component({\r\n  selector: 'app-movies-list',\r\n  templateUrl: './movies-list.component.html',\r\n  styleUrls: ['./movies-list.component.css']\r\n})\r\nexport class MoviesListComponent implements OnInit {\r\n\r\n    movieList: IMovie[];\r\n\r\n  searchControl = new FormControl('', { updateOn: 'blur' });\r\n\r\n  constructor(private movieService: MovieService) { }\r\n\r\n  ngOnInit(): void {\r\n    // search for word with at least 3 characters\r\n    this.searchControl.valueChanges.pipe(\r\n      filter(searchTerm => searchTerm.length > 2),\r\n      startWith(''),\r\n      // tap(searchTerm => console.log(searchTerm)),\r\n      switchMap(searchTerm => this.movieService.loadMovieList(searchTerm))\r\n      // switchMap => stop previous requests and takes the last\r\n      // mergeMap => return the result from the observable\r\n    )\r\n      .subscribe(movieList => {\r\n        this.movieList = movieList;\r\n      });\r\n\r\n\r\n    // this.recipeService.loadRecipeList().subscribe(recipeList => {\r\n    //   // console.log(recipeList)\r\n    //   this.recipeList = recipeList;\r\n    // });\r\n  }\r\n\r\n}","<form class=\"form\">\r\n    <div class=\"parent\">\r\n\r\n        <mat-form-field appearance=\"outline\">\r\n            <mat-label>Search by recipe name</mat-label>\r\n            <input [formControl]=\"searchControl\" type=\"text\" matInput name=\"recipeName\" id=\"recipeName\"\r\n                placeholder=\"long island\">\r\n        </mat-form-field>\r\n        <button class=\"btn btn-primary\">Search</button>\r\n    </div>\r\n</form>\r\n\r\n<div *ngIf=\"movieList && movieList.length !== 0\" id=\"portfolio-content\" class=\"center-text\">\r\n    <h3>Latest Recipes:</h3>\r\n    <div class=\"portfolio-page\" id=\"page-1\">\r\n        <app-recipes-list-item *ngFor=\"let recipe of movieList\" [recipe]=\"recipe\"></app-recipes-list-item>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"movieList && movieList.length === 0\" id=\"portfolio-content\" class=\"center-text\">\r\n    <h3 class=\"portfolio-page\" id=\"page-1\">No Recipes Found!</h3>\r\n</div>\r\n\r\n<div *ngIf=\"!movieList\">\r\n    Loading&hellip;\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}